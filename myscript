closestCommit=$1
filename="$2"
numberOfChangesInClosestCommit=99999999999999
for commit in $(git rev-list distant-past..$1); do
    changes=$(git diff init:build/cms $commit --numstat --ignore-all-space -- "$2")
    numberOfChanges=$(printf %s\\n "$changes" | awk '{print $1+$2}' )

    if [ $numberOfChanges -lt $numberOfChangesInClosestCommit ]; then
        numberOfChangesInClosestCommit=$numberOfChanges
        closestCommit=$commit
    fi
done
distance=$(git rev-list $closestCommit..$1 | wc -l)
printf 'commit: %s, distance: %s, number of changes: %s, file: %s\n' $closestCommit $distance $numberOfChangesInClosestCommit $filename

# Create patches with individual git diffs on files
